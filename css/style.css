/* ------------------------------------------------------------------------ Fonts */
@font-face {
  font-family: 'Ecole';
  src: url('fonts/Ecole-Italic.woff2') format('woff2'),
      url('fonts/Ecole-Italic.woff') format('woff');
  font-weight: normal;
  font-style: italic;
}

@font-face {
  font-family: 'Ecole';
  src: url('fonts/Ecole-Regular.woff2') format('woff2'),
      url('fonts/Ecole-Regular.woff') format('woff');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'Ecole';
  src: url('fonts/Ecole-Bold.woff2') format('woff2'),
      url('fonts/Ecole-Bold.woff') format('woff');
  font-weight: bold;
  font-style: normal;
}

/* ------------------------------------------------------------------------ Variables */
:root {
  --bigsize: clamp(2rem, 0.5000rem + 6.6667vw, 4rem);
  --basesize: 1.25rem;
  --color: rgba(0,0,0,.85);
  --spacer: 2rem;
  /* notes */
  --sn-width: 250px;
  --sn-padding: var(--spacer);
}

/* ------------------------------------------------------------------------ Common */
html { /* body won't work ¯\_(ツ)_/¯ */
  /* scroll-snap-type: y mandatory; */
}
body{
  font-family: 'Ecole';
  color: var(--color);
  font-size: var(--basesize);
  line-height: 1.45;
  margin:0;
  counter-reset: listitem;
}
p:first-child {
  margin-top: 0;
}
a { color: currentColor;}

img { max-width: 100%;}



/* ------------------------------------------------------------------------ Cover */
#header {
  min-height: 100vh;  
  padding: var(--spacer);
  scroll-snap-align: start;
}
#header h1 {
  margin: 0;
  line-height: 1.2;
  max-width: calc(var(--bigsize) * 20);
  font-size: calc(var(--bigsize) * 1.5);
}
#header h2 {
  margin: 0;
  line-height: 1.2;
  max-width: calc(var(--bigsize) * 20);
  font-size: var(--bigsize);
}
.meta {
  display: grid;
  grid-gap: var(--spacer);
  grid-template-columns: 15vw  minmax(250px,1fr) minmax(250px,1fr);
  margin-top: 2rem;
}
.meta-data {
  /* justify-self: end; */
}

/* ------------------------------------------------------------------------ nav */
#nav {
  min-height: 100vh;  
  scroll-snap-align: start;
  display: grid;
  grid-template-columns: 15vw 1fr;
  grid-gap: var(--spacer);
  padding: var(--spacer);
  align-content: center;
}
#nav h2,
#nav ul {
  grid-column: 2;
  margin: 0;
  font-size: 1em;
}
#nav ul, #index ul{
  list-style-type: none;
  margin: 0;
  padding: 0;
}
#index {
  position: sticky;
  top: var(--spacer);
  font-size: .75em;
}
#index a { text-decoration: none;}
#index .active { text-decoration: underline; }

/* ------------------------------------------------------------------------ Notes */
hr {
  background: none;
  border: none;
  border: 1px dashed;
}
sup[id^=fnref]{
  vertical-align: top;
  display: inline-block;
  margin: 0 .05em;
  padding: 0;
  font-size:.65em;
}
sup[id^=fnref] a { text-decoration: none;}


.footnotes ol {
  list-style-type: none;
  margin: 0;
  padding: 0;
  font-size: .75em;
}
.footnotes li {
  counter-increment: listitem;
  display: block;
  padding-left: 3em;
}
.footnotes li::before{
  content: counter(listitem) ". ";
  position: absolute;
  margin-left: -3em;
}

/* notes */
.sn-toggle{display:none; }
.sn-toggle:checked + .sn-note{display:block}
.sn-toggle-label,sup a.footnote-ref{padding:0 0 .25em .15em;font-size:.75em;top:-.5em;position:relative;text-decoration:none;border:none}
.sn-note::before{
  float: left;
  padding-right: .5em;
  content: "[" attr(data-ref) "]";
}
sup[id^=fn]{vertical-align:baseline}
sup a.footnote-ref{color:#ff6347;font-weight:700}
.sn-note{font-family: var(--family);top:.25em;font-size:.85rem;float:right;clear:right;width:var(--sn-width);margin-right:calc(var(--sn-width) * -1 - var(--spacer));margin-bottom:1rem;padding-left:var(--sn-padding);position:relative; font-style: normal;}
.sn-note em, .sn-note i { font-style: italic;}
.sn-note :first-child{margin-top:0; }
.sn-note img {display: block;}
.sn-note p {margin: 0;}
.sn-note .caption{
    display: block;
    margin-top: .25em;
}
.sn-note .caption::before { content:  "↑ ";}

@media (max-width:1250px) {
    .sn-note{display:none}
    .sn-toggle:checked + .sn-note{display:block; width:100%;float:none;clear:both;margin:1em 0;top:0}
    label[for^="sn-"]{color:#ff6347;cursor:pointer;font-weight:700}
}

/* default footnotes (no js) */
.footnotes{max-width:var(--p-width);margin-top:2em;padding-top:1em}
.footnotes ol{font-size:.85rem;padding-left:1em}
.footnotes :target{background:#ff0}
.footnotes hr{background:none;border:none;margin:0;width:4em}
.footnotes::before{content:'—'}


/* ------------------------------------------------------------------------ Content */
main {
  display: grid;
  grid-template-columns: 15vw 1fr;
  grid-gap: var(--spacer);
  align-self: start;
  scroll-snap-align: start;
  padding: var(--spacer);
}
main > *:not(#index){
  grid-column: 2;
  margin-bottom: calc(var(--spacer) * 2);
}
main p, main ul, main blockquote, main ol {
  max-width: 45em;
}
main h1:first-child,
main h2:first-child,
main h3:first-child {
  margin-top: 0;
}

main h1 {
  font-size: 1.5em;
}
main h2 {
  font-size: 1em;
}
main h3 {
  font-size: 1em;
  margin-left: 2em;
  font-weight: normal;
  text-decoration: underline;
}

/* ------------------------------------------------------------------------ Entretiens (template = interview) */
.interview p {
  --indent: 8em;
  padding-left: var(--indent);
  max-width: calc(45em - var(--indent));
}
.interview p:nth-child(1) strong:first-child, .interview p:nth-child(2) strong:first-child{
  text-align: left;
}
.interview strong:first-child {
  margin-left: calc(var(--indent) * -1);
  min-width: calc(var(--indent) - 1em);
  float: left;
  text-align: right;
  padding-right: 1em;
  text-decoration: underline;
  font-weight: normal;
}

/* ------------------------------------------------------------------------ Glossaire (template = glossary) */
.glossary {
  columns: 3;
  column-gap: var(--spacer);
  font-size: .85em;
}
.term {
  break-inside: avoid-column;
}
.term dl{
  margin-top: 0;
}
.term dt{
  font-weight: bold;
}
.term dd{
  margin-bottom: 1em;
  margin-left: 0;
}
/* ------------------------------------------------------------------------ Columns */
.columns{
  font-size: .85em;
  columns: 3;
  column-gap: var(--spacer);
}
.columns p {
  break-inside: avoid;
  max-width: 28em;
}

/* ------------------------------------------------------------------------ Inline images */
/* footnotes */
.figure {
  float: right;
  clear: right;
  width: 250px;
  font-size: .85rem;
  margin-right: calc(-250px - var(--spacer));
  margin-bottom: 1rem;
}
.figure .figcaption::before {content:  "↑ ";}


/* responsive youtube embed */
.video { padding-bottom:56.35%; height:0; position:relative; }
.video iframe { position:absolute; top:0; left:0; width:100%; height:100%; }

/* monochrome trick , just for fun*/
.video { background:var(--color); margin: 2em 0;}
.video::before,
.video::after {
  pointer-events: none;
  content: "";
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  position: absolute;
}
.video::before {
  background: #000;
  z-index: 1;
  mix-blend-mode: saturation;
}
.video::after {
  background-color:var(--color);
  mix-blend-mode: color;
  z-index: 2;
}